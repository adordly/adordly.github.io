<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>SpringBootè‡ªåŠ¨é…ç½®(äºŒ) | å’³å’³</title><meta name="keywords" content="Springboot"><meta name="author" content="å’³å’³"><meta name="copyright" content="å’³å’³"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="SpringBootè‡ªåŠ¨é…ç½®(äºŒ)1. æ¦‚è¿° å‹æƒ…æç¤ºï¼šå› ä¸ºæœ¬æ–‡æ˜¯åˆ†äº« Spring Boot è‡ªåŠ¨é…ç½®çš„åŸç†ï¼Œæ‰€ä»¥éœ€è¦èƒ–å‹æœ‰ä½¿ç”¨è¿‡ Spring Boot çš„ç»éªŒã€‚å¦‚æœè¿˜æ²¡ä½¿ç”¨è¿‡çš„èƒ–å‹ï¼Œä¸ç”¨æ…Œï¼Œå…ˆè·³è½¬åˆ°ã€ŠèŠ‹é“ Spring Boot SpringMVC å…¥é—¨ã€‹æ–‡ç« ï¼Œå°†å‰ä¸¤èŠ‚é˜…è¯»å®Œï¼Œæ„Ÿå—ä¸‹ Spring Boot çš„é­…åŠ›ã€‚  Spring Boot è‡ªåŠ¨é…ç½®ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯å¸Œæœ›èƒ½å¤Ÿè‡ªåŠ¨é…ç½®ï¼Œå°†æˆ‘ä»¬ä»"><meta property="og:type" content="article"><meta property="og:title" content="SpringBootè‡ªåŠ¨é…ç½®(äºŒ)"><meta property="og:url" content="https://adordly.github.io/2022/01/22/SpringBoot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE(%E4%BA%8C)/index.html"><meta property="og:site_name" content="å’³å’³"><meta property="og:description" content="SpringBootè‡ªåŠ¨é…ç½®(äºŒ)1. æ¦‚è¿° å‹æƒ…æç¤ºï¼šå› ä¸ºæœ¬æ–‡æ˜¯åˆ†äº« Spring Boot è‡ªåŠ¨é…ç½®çš„åŸç†ï¼Œæ‰€ä»¥éœ€è¦èƒ–å‹æœ‰ä½¿ç”¨è¿‡ Spring Boot çš„ç»éªŒã€‚å¦‚æœè¿˜æ²¡ä½¿ç”¨è¿‡çš„èƒ–å‹ï¼Œä¸ç”¨æ…Œï¼Œå…ˆè·³è½¬åˆ°ã€ŠèŠ‹é“ Spring Boot SpringMVC å…¥é—¨ã€‹æ–‡ç« ï¼Œå°†å‰ä¸¤èŠ‚é˜…è¯»å®Œï¼Œæ„Ÿå—ä¸‹ Spring Boot çš„é­…åŠ›ã€‚  Spring Boot è‡ªåŠ¨é…ç½®ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯å¸Œæœ›èƒ½å¤Ÿè‡ªåŠ¨é…ç½®ï¼Œå°†æˆ‘ä»¬ä»"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://adordly.github.io/img/text/Spring1.jpeg"><meta property="article:published_time" content="2022-01-21T17:26:47.000Z"><meta property="article:modified_time" content="2022-03-15T16:22:41.096Z"><meta property="article:author" content="å’³å’³"><meta property="article:tag" content="Springboot"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://adordly.github.io/img/text/Spring1.jpeg"><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="https://adordly.github.io/2022/01/22/SpringBoot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE(%E4%BA%8C)/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!0,post:!1},runtime:"å¤©",date_suffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"SpringBootè‡ªåŠ¨é…ç½®(äºŒ)",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-03-16 00:22:41"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0!==o){const a=new Date;o=864e5*o,t={value:t,expiry:a.getTime()+o};localStorage.setItem(e,JSON.stringify(t))}},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);const o=new Date;if(!(o.getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=a=>new Promise((t,e)=>{const o=document.createElement("script");o.src=a,o.async=!0,o.onerror=e,o.onload=o.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(o.onload=o.onreadystatechange=null,t())},document.head.appendChild(o)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/social_img.jpeg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">7</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">4</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">4</div></a></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/text/Spring1.jpeg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">å’³å’³</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">SpringBootè‡ªåŠ¨é…ç½®(äºŒ)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-01-21T17:26:47.000Z" title="å‘è¡¨äº 2022-01-22 01:26:47">2022-01-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-03-15T16:22:41.096Z" title="æ›´æ–°äº 2022-03-16 00:22:41">2022-03-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Springboot/">Springboot</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">4.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>17åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="SpringBootè‡ªåŠ¨é…ç½®(äºŒ)"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="SpringBootè‡ªåŠ¨é…ç½®-äºŒ"><a href="#SpringBootè‡ªåŠ¨é…ç½®-äºŒ" class="headerlink" title="SpringBootè‡ªåŠ¨é…ç½®(äºŒ)"></a>SpringBootè‡ªåŠ¨é…ç½®(äºŒ)</h1><h1 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h1><blockquote><p>å‹æƒ…æç¤ºï¼šå› ä¸ºæœ¬æ–‡æ˜¯åˆ†äº« Spring Boot è‡ªåŠ¨é…ç½®çš„åŸç†ï¼Œæ‰€ä»¥éœ€è¦èƒ–å‹æœ‰ä½¿ç”¨è¿‡ Spring Boot çš„ç»éªŒã€‚å¦‚æœè¿˜æ²¡ä½¿ç”¨è¿‡çš„èƒ–å‹ï¼Œä¸ç”¨æ…Œï¼Œå…ˆè·³è½¬åˆ°<a target="_blank" rel="noopener" href="http://www.iocoder.cn/Spring-Boot/SpringMVC/?self">ã€ŠèŠ‹é“ Spring Boot SpringMVC å…¥é—¨ã€‹</a>æ–‡ç« ï¼Œå°†å‰ä¸¤èŠ‚é˜…è¯»å®Œï¼Œæ„Ÿå—ä¸‹ Spring Boot çš„é­…åŠ›ã€‚</p></blockquote><p>Spring Boot è‡ªåŠ¨é…ç½®ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯å¸Œæœ›èƒ½å¤Ÿè‡ªåŠ¨é…ç½®ï¼Œå°†æˆ‘ä»¬ä»é…ç½®çš„è‹¦æµ·ä¸­è§£è„±å‡ºæ¥ã€‚é‚£ä¹ˆæ—¢ç„¶è¦è‡ªåŠ¨é…ç½®ï¼Œå®ƒéœ€è¦è§£ä¸‰ä¸ªé—®é¢˜ï¼š</p><ul><li>æ»¡è¶³ä»€ä¹ˆæ ·çš„<strong>æ¡ä»¶</strong>ï¼Ÿ</li><li>åˆ›å»º<strong>å“ªäº›</strong> Beanï¼Ÿ</li><li>åˆ›å»ºçš„ Bean çš„<strong>å±æ€§</strong>ï¼Ÿ</li></ul><p>æˆ‘ä»¬æ¥ä¸¾ä¸ªç¤ºä¾‹ï¼Œå¯¹ç…§ä¸‹è¿™ä¸‰ä¸ªé—®é¢˜ã€‚åœ¨æˆ‘ä»¬å¼•å…¥ <a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web"><code>spring-boot-starter-web</code></a> ä¾èµ–ï¼Œä¼šåˆ›å»ºä¸€ä¸ª 8080 ç«¯å£çš„å†…åµŒ Tomcatï¼ŒåŒæ—¶å¯ä»¥é€šè¿‡ <code>application.yaml</code> é…ç½®æ–‡ä»¶ä¸­çš„ <code>server.port</code> é…ç½®é¡¹è‡ªå®šä¹‰ç«¯å£ã€‚é‚£ä¹ˆè¿™ä¸‰ä¸ªé—®é¢˜çš„ç­”æ¡ˆå¦‚ä¸‹ï¼š</p><blockquote><p>å‹æƒ…æç¤ºï¼šä¸ºäº†æ›´æ˜“æ‡‚ï¼Œè¿™é‡Œçš„ç­”æ¡ˆæš‚æ—¶æ˜¯è¡¨è±¡çš„ï¼Œä¸ç»å¯¹ç²¾å‡†ã€‚</p></blockquote><ul><li>æ»¡è¶³ä»€ä¹ˆæ ·çš„<strong>æ¡ä»¶</strong>ï¼Ÿå› ä¸ºæˆ‘ä»¬å¼•å…¥äº† <code>spring-boot-starter-web</code> ä¾èµ–ã€‚</li><li>åˆ›å»º<strong>å“ªäº›</strong> Beanï¼Ÿåˆ›å»ºäº†ä¸€ä¸ªå†…åµŒçš„ Tomcat Beanï¼Œå¹¶è¿›è¡Œå¯åŠ¨ã€‚</li><li>åˆ›å»ºçš„ Bean çš„<strong>å±æ€§</strong>ï¼Ÿé€šè¿‡ <code>application.yaml</code> é…ç½®æ–‡ä»¶çš„ <code>server.port</code> é…ç½®é¡¹ï¼Œå®šä¹‰ Tomcat Bean çš„å¯åŠ¨ç«¯å£å±æ€§ï¼Œå¹¶ä¸”é»˜è®¤å€¼ä¸º 8080ã€‚</li></ul><p>å£®ç€èƒ†å­ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ Spring Boot æä¾›çš„ <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/embedded/EmbeddedWebServerFactoryCustomizerAutoConfiguration.java">EmbeddedWebServerFactoryCustomizerAutoConfiguration</a> ç±»ï¼Œè´Ÿè´£åˆ›å»ºå†…åµŒçš„ Tomcatã€Jetty ç­‰ç­‰ Web æœåŠ¡å™¨çš„é…ç½®ç±»ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> <span class="comment">// &lt;1.1&gt;</span></span><br><span class="line"><span class="meta">@ConditionalOnWebApplication</span> <span class="comment">// &lt;2.1&gt;</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(ServerProperties.class)</span> <span class="comment">// &lt;3.1&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span>  <span class="title class_">EmbeddedWebServerFactoryCustomizerAutoConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Nested configuration if Tomcat is being used.</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Configuration</span> <span class="comment">// &lt;1.2&gt;</span></span><br><span class="line">	<span class="meta">@ConditionalOnClass(&#123; Tomcat.class, UpgradeProtocol.class &#125;)</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">TomcatWebServerFactoryCustomizerConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Bean</span></span><br><span class="line">		<span class="keyword">public</span> TomcatWebServerFactoryCustomizer <span class="title function_">tomcatWebServerFactoryCustomizer</span><span class="params">(</span></span><br><span class="line"><span class="params">				Environment environment, ServerProperties serverProperties)</span> &#123;</span><br><span class="line">			<span class="comment">// &lt;3.2&gt;</span></span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TomcatWebServerFactoryCustomizer</span>(environment, serverProperties);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Nested configuration if Jetty is being used.</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Configuration</span> <span class="comment">// &lt;1.3&gt;</span></span><br><span class="line">	<span class="meta">@ConditionalOnClass(&#123; Server.class, Loader.class, WebAppContext.class &#125;)</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">JettyWebServerFactoryCustomizerConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Bean</span></span><br><span class="line">		<span class="keyword">public</span> JettyWebServerFactoryCustomizer <span class="title function_">jettyWebServerFactoryCustomizer</span><span class="params">(</span></span><br><span class="line"><span class="params">				Environment environment, ServerProperties serverProperties)</span> &#123;</span><br><span class="line">			 <span class="comment">// &lt;3.3&gt;</span></span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">JettyWebServerFactoryCustomizer</span>(environment, serverProperties);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Nested configuration if Undertow is being used.</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="comment">// ... çœç•¥ UndertowWebServerFactoryCustomizerConfiguration ä»£ç </span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Nested configuration if Netty is being used.</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="comment">// ... çœç•¥ NettyWebServerFactoryCustomizerConfiguration ä»£ç </span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨å¼€å§‹çœ‹ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•ç§‘æ™®ä¸‹ <a target="_blank" rel="noopener" href="https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/">Spring JavaConfig</a> çš„å°çŸ¥è¯†ã€‚åœ¨ Spring3.0 å¼€å§‹ï¼ŒSpring æä¾›äº† JavaConfig çš„æ–¹å¼ï¼Œå…è®¸æˆ‘ä»¬ä½¿ç”¨ Java ä»£ç çš„æ–¹å¼ï¼Œè¿›è¡Œ Spring Bean çš„åˆ›å»ºã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">object</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Obejct</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡åœ¨<strong>ç±»</strong>ä¸Šæ·»åŠ  <a target="_blank" rel="noopener" href="https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch02.html#d0e270"><code>@Configuration</code></a> æ³¨è§£ï¼Œå£°æ˜è¿™æ˜¯ä¸€ä¸ª Spring é…ç½®ç±»ã€‚</li><li>é€šè¿‡åœ¨<strong>æ–¹æ³•</strong>ä¸Šæ·»åŠ  <a target="_blank" rel="noopener" href="https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch02s02.html"><code>@Bean</code></a> æ³¨è§£ï¼Œå£°æ˜è¯¥æ–¹æ³•åˆ›å»ºä¸€ä¸ª Spring Beanã€‚</li></ul><p>OKï¼Œç°åœ¨æˆ‘ä»¬åœ¨å›è¿‡å¤´çœ‹çœ‹ EmbeddedWebServerFactoryCustomizerAutoConfiguration çš„ä»£ç ï¼Œæˆ‘ä»¬åˆ†æˆä¸‰å—å†…å®¹æ¥è®²ï¼Œåˆšå¥½è§£å†³æˆ‘ä»¬ä¸Šé¢è¯´çš„ä¸‰ä¸ªé—®é¢˜ï¼š</p><ul><li>â‘  é…ç½®ç±»</li><li>â‘¡ æ¡ä»¶æ³¨è§£</li><li>â‘¢ é…ç½®å±æ€§</li></ul><p><strong>â‘  é…ç½®ç±»</strong></p><p><code>&lt;1.1&gt;</code> å¤„ï¼Œåœ¨ç±»ä¸Šæ·»åŠ äº† <code>@Configuration</code> æ³¨è§£ï¼Œå£°æ˜è¿™æ˜¯ä¸€ä¸ª<strong>é…ç½®ç±»</strong>ã€‚å› ä¸ºå®ƒçš„ç›®çš„æ˜¯è‡ªåŠ¨é…ç½®ï¼Œæ‰€ä»¥ç±»åä»¥ AutoConfiguration ä½œä¸ºåç¼€ã€‚</p><p><code>&lt;1.2&gt;</code>ã€<code>&lt;1.3&gt;</code> å¤„ï¼Œåˆ†åˆ«æ˜¯ç”¨äºåˆå§‹åŒ– Tomcatã€Jetty ç›¸å…³ Bean çš„é…ç½®ç±»ã€‚</p><ul><li>TomcatWebServerFactoryCustomizerConfiguration é…ç½®ç±»ï¼Œè´Ÿè´£åˆ›å»º <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/embedded/TomcatWebServerFactoryCustomizer.java">TomcatWebServerFactoryCustomizer</a> Beanï¼Œä»è€Œåˆå§‹åŒ–å†…åµŒçš„ Tomcat å¹¶è¿›è¡Œå¯åŠ¨ã€‚</li><li>JettyWebServerFactoryCustomizer é…ç½®ç±»ï¼Œè´Ÿè´£åˆ›å»º <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/embedded/JettyWebServerFactoryCustomizer.java">JettyWebServerFactoryCustomizer</a> Beanï¼Œä»è€Œåˆå§‹åŒ–å†…åµŒçš„ Jetty å¹¶è¿›è¡Œå¯åŠ¨ã€‚</li></ul><p><strong>å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ç»“è®ºä¸€ï¼Œé€šè¿‡ <code>@Configuration</code> æ³¨è§£çš„é…ç½®ç±»ï¼Œå¯ä»¥è§£å†³â€œåˆ›å»ºå“ªäº› Beanâ€çš„é—®é¢˜ã€‚</strong></p><p>å®é™…ä¸Šï¼ŒSpring Boot çš„ <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-project/spring-boot-autoconfigure">spring-boot-autoconfigure</a> é¡¹ç›®ï¼Œæä¾›äº†å¤§é‡æ¡†æ¶çš„è‡ªåŠ¨é…ç½®ç±»ï¼Œç¨åæˆ‘ä»¬åœ¨<a target="_blank" rel="noopener" href="http://www.iocoder.cn/Spring-Boot/autoconfigure/?github#">ã€Œ2. è‡ªåŠ¨é…ç½®ç±»ã€</a>å°èŠ‚è¯¦ç»†å±•å¼€ã€‚</p><p><strong>â‘¡ æ¡ä»¶æ³¨è§£</strong></p><p><code>&lt;2&gt;</code> å¤„ï¼Œåœ¨ç±»ä¸Šæ·»åŠ äº† <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/ConditionalOnWebApplication.java"><code>@ConditionalOnWebApplication</code></a> <strong>æ¡ä»¶æ³¨è§£</strong>ï¼Œè¡¨ç¤ºå½“å‰é…ç½®ç±»éœ€è¦åœ¨å½“å‰é¡¹ç›®æ˜¯ Web é¡¹ç›®çš„æ¡ä»¶ä¸‹ï¼Œæ‰èƒ½ç”Ÿæ•ˆã€‚åœ¨ Spring Boot é¡¹ç›®ä¸­ï¼Œä¼šå°†é¡¹ç›®ç±»å‹åˆ†æˆ Web é¡¹ç›®ï¼ˆä½¿ç”¨ SpringMVC æˆ–è€… WebFluxï¼‰å’Œé Web é¡¹ç›®ã€‚è¿™æ ·æˆ‘ä»¬å°±å¾ˆå®¹æ˜“ç†è§£ï¼Œä¸ºä»€ä¹ˆ EmbeddedWebServerFactoryCustomizerAutoConfiguration é…ç½®ç±»ä¼šè¦æ±‚åœ¨é¡¹ç›®ç±»å‹æ˜¯ Web é¡¹ç›®ï¼Œåªæœ‰ Web é¡¹ç›®æ‰æœ‰å¿…è¦åˆ›å»ºå†…åµŒçš„ Web æœåŠ¡å™¨å‘€ã€‚</p><p><code>&lt;2.1&gt;</code>ã€<code>&lt;2.2&gt;</code> å¤„ï¼Œåœ¨ç±»ä¸Šæ·»åŠ äº† <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/ConditionalOnClass.java"><code>@ConditionalOnClass</code></a> <strong>æ¡ä»¶æ³¨è§£</strong>ï¼Œè¡¨ç¤ºå½“å‰é…ç½®ç±»éœ€è¦åœ¨å½“å‰é¡¹ç›®æœ‰æŒ‡å®šç±»çš„æ¡ä»¶ä¸‹ï¼Œæ‰èƒ½ç”Ÿæ•ˆã€‚</p><ul><li>TomcatWebServerFactoryCustomizerConfiguration é…ç½®ç±»ï¼Œéœ€è¦æœ‰ <a target="_blank" rel="noopener" href="https://mvnrepository.com/search?q=tomcat-embed-core"><code>tomcat-embed-core</code></a> ä¾èµ–æä¾›çš„ Tomcatã€UpgradeProtocol ä¾èµ–ç±»ï¼Œæ‰èƒ½åˆ›å»ºå†…åµŒçš„ Tomcat æœåŠ¡å™¨ã€‚</li><li>JettyWebServerFactoryCustomizer é…ç½®ç±»ï¼Œéœ€è¦æœ‰ <a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-server"><code>jetty-server</code></a> ä¾èµ–æä¾›çš„ Serverã€Loaderã€WebAppContext ç±»ï¼Œæ‰èƒ½åˆ›å»ºå†…åµŒçš„ Jetty æœåŠ¡å™¨ã€‚</li></ul><p><strong>å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ç»“è®ºäºŒï¼Œé€šè¿‡æ¡ä»¶æ³¨è§£ï¼Œå¯ä»¥è§£å†³â€œæ»¡è¶³ä»€ä¹ˆæ ·çš„æ¡ä»¶ï¼Ÿâ€çš„é—®é¢˜ã€‚</strong></p><p>å®é™…ä¸Šï¼ŒSpring Boot çš„ <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition"><code>condition</code></a> åŒ…ä¸‹ï¼Œæä¾›äº†å¤§é‡çš„æ¡ä»¶æ³¨è§£ï¼Œç¨åæˆ‘ä»¬åœ¨<a target="_blank" rel="noopener" href="http://www.iocoder.cn/Spring-Boot/autoconfigure/?github#">ã€Œ2. æ¡ä»¶æ³¨è§£ã€</a>å°èŠ‚è¯¦ç»†å±•å¼€ã€‚</p><p><strong>â‘¢ é…ç½®å±æ€§</strong></p><p><code>&lt;3.1&gt;</code> å¤„ï¼Œä½¿ç”¨ <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/properties/EnableConfigurationProperties.java"><code>@EnableConfigurationProperties</code></a> æ³¨è§£ï¼Œè®© <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java">ServerProperties</a> <strong>é…ç½®å±æ€§ç±»</strong>ç”Ÿæ•ˆã€‚åœ¨ Spring Boot å®šä¹‰äº† <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/properties/ConfigurationProperties.java"><code>@ConfigurationProperties</code></a> æ³¨è§£ï¼Œç”¨äºå£°æ˜é…ç½®å±æ€§ç±»ï¼Œå°†æŒ‡å®šå‰ç¼€çš„é…ç½®é¡¹æ‰¹é‡æ³¨å…¥åˆ°è¯¥ç±»ä¸­ã€‚ä¾‹å¦‚ ServerProperties ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;server&quot;, ignoreUnknownFields = true)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerProperties</span></span><br><span class="line">		<span class="keyword">implements</span> <span class="title class_">EmbeddedServletContainerCustomizer</span>, EnvironmentAware, Ordered &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Server HTTP port.</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> Integer port;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Context path of the application.</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> String contextPath;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// ... çœç•¥å…¶å®ƒå±æ€§</span></span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡ <code>@ConfigurationProperties</code> æ³¨è§£ï¼Œå£°æ˜å°† <code>server</code> å‰ç¼€çš„é…ç½®é¡¹ï¼Œè®¾ç½®åˆ° ServerProperties é…ç½®å±æ€§ç±»ä¸­ã€‚</li></ul><p><code>&lt;3.2&gt;</code>ã€<code>&lt;3.3&gt;</code> å¤„ï¼Œåœ¨åˆ›å»º TomcatWebServerFactoryCustomizer å’Œ JettyWebServerFactoryCustomizer å¯¹è±¡æ—¶ï¼Œéƒ½ä¼šå°† ServerProperties ä¼ å…¥å…¶ä¸­ï¼Œä½œä¸ºåç»­åˆ›å»ºçš„ Web æœåŠ¡å™¨çš„é…ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬é€šè¿‡ä¿®æ”¹åœ¨é…ç½®æ–‡ä»¶çš„é…ç½®é¡¹ï¼Œå°±å¯ä»¥è‡ªå®šä¹‰ Web æœåŠ¡å™¨çš„é…ç½®ã€‚</p><p><strong>å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ç»“è®ºä¸‰ï¼Œé€šè¿‡é…ç½®å±æ€§ï¼Œå¯ä»¥è§£å†³â€œåˆ›å»ºçš„ Bean çš„å±æ€§ï¼Ÿâ€çš„é—®é¢˜ã€‚</strong></p><hr><p>ğŸ¶ è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æ¯”è¾ƒæ¸…æ™°çš„ç†è§£ Spring Boot æ˜¯æ€ä¹ˆè§£å†³æˆ‘ä»¬ä¸Šé¢æå‡ºçš„ä¸‰ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿™æ ·è¿˜æ˜¯æ— æ³•å®ç°è‡ªåŠ¨é…ç½®ã€‚ä¾‹å¦‚è¯´ï¼Œæˆ‘ä»¬å¼•å…¥çš„ <code>spring-boot-starter-web</code> ç­‰ä¾èµ–ï¼ŒSpring Boot æ˜¯æ€ä¹ˆçŸ¥é“è¦æ‰«ç å“ªäº›é…ç½®ç±»çš„ã€‚ä¸‹é¢ï¼Œç»§ç»­æˆ‘ä»¬çš„æ—…é€”ï¼Œç»§ç»­æŠ½ä¸å‰¥èŒ§ã€‚</p><h1 id="2-è‡ªåŠ¨é…ç½®ç±»"><a href="#2-è‡ªåŠ¨é…ç½®ç±»" class="headerlink" title="2. è‡ªåŠ¨é…ç½®ç±»"></a>2. è‡ªåŠ¨é…ç½®ç±»</h1><p>åœ¨ Spring Boot çš„ <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-project/spring-boot-autoconfigure">spring-boot-autoconfigure</a> é¡¹ç›®ï¼Œæä¾›äº†å¤§é‡æ¡†æ¶çš„è‡ªåŠ¨é…ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š![<code>spring-boot-autoconfigure</code>](ç¬¬äºŒç« -Spring Bootè‡ªåŠ¨é…ç½®åŸç†.assets&#x2F;01.png)</p><p>åœ¨æˆ‘ä»¬é€šè¿‡ <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L1218-L1227"><code>SpringApplication#run(Class primarySource, String... args)</code></a> æ–¹æ³•ï¼Œå¯åŠ¨ Spring Boot åº”ç”¨çš„æ—¶å€™ï¼Œæœ‰ä¸ªéå¸¸é‡è¦çš„ç»„ä»¶ <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-framework/blob/master/spring-core/src/main/java/org/springframework/core/io/support/SpringFactoriesLoader.java">SpringFactoriesLoader</a> ç±»ï¼Œä¼šè¯»å– <code>META-INF</code> ç›®å½•ä¸‹çš„ <code>spring.factories</code> æ–‡ä»¶ï¼Œè·å¾—<strong>æ¯ä¸ªæ¡†æ¶å®šä¹‰çš„éœ€è¦è‡ªåŠ¨é…ç½®çš„é…ç½®ç±»</strong>ã€‚</p><p>æˆ‘ä»¬ä»¥ <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-project/spring-boot-autoconfigure">spring-boot-autoconfigure</a> é¡¹ç›®çš„ <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/resources/META-INF/spring.factories">Spring Boot <code>spring.factories</code></a> æ–‡ä»¶æ¥ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š![<code>spring.factories</code>](ç¬¬äºŒç« -Spring Bootè‡ªåŠ¨é…ç½®åŸç†.assets&#x2F;02.png)</p><p>å¦‚æ­¤ï¼ŒåŸå…ˆ <code>@Configuration</code> æ³¨è§£çš„é…ç½®ç±»ï¼Œå°±<strong>å‡çº§</strong>æˆç±»è‡ªåŠ¨é…ç½®ç±»ã€‚è¿™æ ·ï¼ŒSpring Boot åœ¨è·å–åˆ°éœ€è¦è‡ªåŠ¨é…ç½®çš„é…ç½®ç±»åï¼Œå°±å¯ä»¥è‡ªåŠ¨åˆ›å»ºç›¸åº”çš„ Beanï¼Œå®Œæˆè‡ªåŠ¨é…ç½®çš„åŠŸèƒ½ã€‚</p><blockquote><p>æ—ç™½å›ï¼šè¿™é‡Œå…¶å®è¿˜æœ‰ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„è¯é¢˜ï¼Œä½œä¸ºæ‹“å±•çŸ¥è¯†ï¼Œèƒ–å‹å¯ä»¥åç»­å»çœ‹çœ‹ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ <code>spring.factories</code> ç†è§£æˆ Spring Boot è‡ªå·±çš„ SPI æœºåˆ¶ã€‚æ„Ÿå…´è¶£çš„èƒ–å‹ï¼Œå¯ä»¥çœ‹çœ‹å¦‚ä¸‹çš„æ–‡ç« ï¼š</p><ul><li><a target="_blank" rel="noopener" href="http://www.iocoder.cn/Fight/SPI-mechanism-in-Spring-Boot/?self">ã€ŠSpring Boot çš„ SPI æœºåˆ¶ã€‹</a></li><li><a target="_blank" rel="noopener" href="http://www.iocoder.cn/Fight/xuma/spi/?self">ã€ŠJava çš„ SPI æœºåˆ¶ã€‹</a></li><li><a target="_blank" rel="noopener" href="http://dubbo.apache.org/zh-cn/docs/dev/SPI.html">ã€ŠDubbo çš„ SPI æœºåˆ¶ã€‹</a></li></ul><p>å®é™…ä¸Šï¼Œè‡ªåŠ¨é…ç½®åªæ˜¯ Spring Boot åŸºäº <code>spring.factories</code> çš„ä¸€ä¸ªæ‹“å±•ç‚¹ EnableAutoConfigurationã€‚æˆ‘ä»¬ä»ä¸Šå›¾ä¸­ï¼Œè¿˜å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„æ‹“å±•ç‚¹ï¼š</p><ul><li>ApplicationContextInitializer</li><li>ApplicationListener</li><li>AutoConfigurationImportListener</li><li>AutoConfigurationImportFilter</li><li>FailureAnalyzer</li><li>TemplateAvailabilityProvider</li></ul></blockquote><p>å› ä¸º spring-boot-autoconfigure é¡¹ç›®æä¾›çš„æ˜¯å®ƒé€‰æ‹©çš„ä¸»æµæ¡†æ¶çš„è‡ªåŠ¨é…ç½®ï¼Œæ‰€ä»¥å…¶å®ƒæ¡†æ¶éœ€è¦è‡ªå·±å®ç°ã€‚ä¾‹å¦‚è¯´ï¼ŒDubbo é€šè¿‡ <a target="_blank" rel="noopener" href="https://github.com/apache/dubbo-spring-boot-project">dubbo-spring-boot-project</a> é¡¹ç›®ï¼Œæä¾› Dubbo çš„è‡ªåŠ¨é…ç½®ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š![Dubbo <code>spring.factories</code>](ç¬¬äºŒç« -Spring Bootè‡ªåŠ¨é…ç½®åŸç†.assets&#x2F;03.png)</p><h1 id="3-æ¡ä»¶æ³¨è§£"><a href="#3-æ¡ä»¶æ³¨è§£" class="headerlink" title="3. æ¡ä»¶æ³¨è§£"></a>3. æ¡ä»¶æ³¨è§£</h1><p>æ¡ä»¶æ³¨è§£å¹¶ä¸æ˜¯ Spring Boot æ‰€ç‹¬æœ‰ï¼Œè€Œæ˜¯åœ¨ Spring3.1 ç‰ˆæœ¬æ—¶ï¼Œä¸ºäº†æ»¡è¶³ä¸åŒç¯å¢ƒæ³¨å†Œä¸åŒçš„ Bean ï¼Œå¼•å…¥äº† <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/context/annotation/Profile.java"><code>@Profile</code></a> æ³¨è§£ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class DataSourceConfiguration &#123;</span><br><span class="line"></span><br><span class="line">    @Bean</span><br><span class="line">    @Profile(&quot;DEV&quot;)</span><br><span class="line">    public DataSource devDataSource() &#123;</span><br><span class="line">        // ... å•æœº MySQL</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Bean</span><br><span class="line">    @Profile(&quot;PROD&quot;)</span><br><span class="line">    public DataSource prodDataSource() &#123;</span><br><span class="line">        // ... é›†ç¾¤ MySQL</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åœ¨æµ‹è¯•ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬æ³¨å†Œå•æœº MySQL çš„ DataSource Beanã€‚</li><li>åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬æ³¨å†Œé›†ç¾¤ MySQL çš„ DataSource Beanã€‚</li></ul><p>åœ¨ Spring4 ç‰ˆæœ¬æ—¶ï¼Œæä¾›äº† <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/context/annotation/Conditional.java"><code>@Conditional</code></a> æ³¨è§£ï¼Œç”¨äºå£°æ˜åœ¨é…ç½®ç±»æˆ–è€…åˆ›å»º Bean çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºéœ€è¦æ»¡è¶³æŒ‡å®šæ¡ä»¶æ‰èƒ½ç”Ÿæ•ˆã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class TestConfiguration &#123;</span><br><span class="line"></span><br><span class="line">    @Bean</span><br><span class="line">    @Conditional(XXXCondition.class)</span><br><span class="line">    public Object xxxObject() &#123;</span><br><span class="line">        return new Object();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å…¶ä¸­ï¼ŒXXXCondition éœ€è¦æˆ‘ä»¬è‡ªå·±å®ç° <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/context/annotation/Condition.java">Condition</a> æ¥å£ï¼Œæä¾›å…·ä½“çš„æ¡ä»¶å®ç°ã€‚</li></ul><p>æ˜¾ç„¶ï¼ŒSpring4 æäº¤çš„ <code>@Conditional</code> æ³¨è§£éå¸¸ä¸æ–¹ä¾¿ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å»æ‹“å±•ã€‚å› æ­¤ï¼ŒSpring Boot è¿›ä¸€æ­¥å¢å¼ºï¼Œæä¾›äº†å¸¸ç”¨çš„æ¡ä»¶æ³¨è§£ï¼š</p><ul><li><code>@ConditionalOnBean</code>ï¼šå½“å®¹å™¨é‡Œæœ‰æŒ‡å®š Bean çš„æ¡ä»¶ä¸‹</li><li><code>@ConditionalOnMissingBean</code>ï¼šå½“å®¹å™¨é‡Œæ²¡æœ‰æŒ‡å®š Bean çš„æƒ…å†µä¸‹</li><li><code>@ConditionalOnSingleCandidate</code>ï¼šå½“æŒ‡å®š Bean åœ¨å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªï¼Œæˆ–è€…è™½ç„¶æœ‰å¤šä¸ªä½†æ˜¯æŒ‡å®šé¦–é€‰ Bean</li><li><code>@ConditionalOnClass</code>ï¼šå½“ç±»è·¯å¾„ä¸‹æœ‰æŒ‡å®šç±»çš„æ¡ä»¶ä¸‹</li><li><code>@ConditionalOnMissingClass</code>ï¼šå½“ç±»è·¯å¾„ä¸‹æ²¡æœ‰æŒ‡å®šç±»çš„æ¡ä»¶ä¸‹</li><li><code>@ConditionalOnProperty</code>ï¼šæŒ‡å®šçš„å±æ€§æ˜¯å¦æœ‰æŒ‡å®šçš„å€¼</li><li><code>@ConditionalOnResource</code>ï¼šç±»è·¯å¾„æ˜¯å¦æœ‰æŒ‡å®šçš„å€¼</li><li><code>@ConditionalOnExpression</code>ï¼šåŸºäº SpEL è¡¨è¾¾å¼ä½œä¸ºåˆ¤æ–­æ¡ä»¶</li><li><code>@ConditionalOnJava</code>ï¼šåŸºäº Java ç‰ˆæœ¬ä½œä¸ºåˆ¤æ–­æ¡ä»¶</li><li><code>@ConditionalOnJndi</code>ï¼šåœ¨ JNDI å­˜åœ¨çš„æ¡ä»¶ä¸‹å·®åœ¨æŒ‡å®šçš„ä½ç½®</li><li><code>@ConditionalOnNotWebApplication</code>ï¼šå½“å‰é¡¹ç›®ä¸æ˜¯ Web é¡¹ç›®çš„æ¡ä»¶ä¸‹</li><li><code>@ConditionalOnWebApplication</code>ï¼šå½“å‰é¡¹ç›®æ˜¯ Webé¡¹ ç›®çš„æ¡ä»¶ä¸‹</li></ul><h1 id="4-é…ç½®å±æ€§"><a href="#4-é…ç½®å±æ€§" class="headerlink" title="4. é…ç½®å±æ€§"></a>4. é…ç½®å±æ€§</h1><p>Spring Boot çº¦å®šè¯»å– <code>application.yaml</code>ã€<code>application.properties</code> ç­‰é…ç½®æ–‡ä»¶ï¼Œä»è€Œå®ç°åˆ›å»º Bean çš„è‡ªå®šä¹‰å±æ€§é…ç½®ï¼Œç”šè‡³å¯ä»¥æ­é… <code>@ConditionalOnProperty</code> æ³¨è§£æ¥å–æ¶ˆ Bean çš„åˆ›å»ºã€‚</p><p>å’³å’³å’³ï¼Œè²Œä¼¼è¿™ä¸ªå°èŠ‚æ²¡æœ‰å¤ªå¤šå¯ä»¥åˆ†äº«çš„å†…å®¹ï¼Œæ›´å¤šèƒ–å‹å¯ä»¥é˜…è¯»<a target="_blank" rel="noopener" href="http://www.iocoder.cn/Spring-Boot/config-file/?self">ã€ŠèŠ‹é“ Spring Boot é…ç½®æ–‡ä»¶å…¥é—¨ã€‹</a>æ–‡ç« ã€‚</p><h1 id="5-å†…ç½®-Starter"><a href="#5-å†…ç½®-Starter" class="headerlink" title="5. å†…ç½® Starter"></a>5. å†…ç½® Starter</h1><p>æˆ‘ä»¬åœ¨ä½¿ç”¨ Spring Boot æ—¶ï¼Œå¹¶ä¸ä¼šç›´æ¥å¼•å…¥ <a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-autoconfigure"><code>spring-boot-autoconfigure</code></a> ä¾èµ–ï¼Œè€Œæ˜¯ä½¿ç”¨ Spring Boot å†…ç½®æä¾›çš„ Starter ä¾èµ–ã€‚ä¾‹å¦‚è¯´ï¼Œæˆ‘ä»¬æƒ³è¦ä½¿ç”¨ SpringMVC æ—¶ï¼Œå¼•å…¥çš„æ˜¯ <a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web"><code>spring-boot-starter-web</code></a> ä¾èµ–ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å› ä¸º Spring Boot æä¾›çš„è‡ªåŠ¨é…ç½®ç±»ï¼ŒåŸºæœ¬éƒ½æœ‰ <code>@ConditionalOnClass</code> æ¡ä»¶æ³¨è§£ï¼Œåˆ¤æ–­æˆ‘ä»¬é¡¹ç›®ä¸­å­˜åœ¨æŒ‡å®šçš„ç±»ï¼Œæ‰ä¼šåˆ›å»ºå¯¹åº”çš„ Beanã€‚è€Œæ‹¥æœ‰æŒ‡å®šç±»çš„å‰æï¼Œä¸€èˆ¬æ˜¯éœ€è¦æˆ‘ä»¬å¼•å…¥å¯¹åº”æ¡†æ¶çš„ä¾èµ–ã€‚</p><p>å› æ­¤ï¼Œåœ¨æˆ‘ä»¬å¼•å…¥ <code>spring-boot-starter-web</code> ä¾èµ–æ—¶ï¼Œå®ƒä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å¼•å…¥ç›¸å…³ä¾èµ–ï¼Œä»è€Œä¿è¯è‡ªåŠ¨é…ç½®ç±»èƒ½å¤Ÿç”Ÿæ•ˆï¼Œåˆ›å»ºå¯¹åº”çš„ Beanã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š![<code>spring-boot-starter-web</code>](ç¬¬äºŒç« -Spring Bootè‡ªåŠ¨é…ç½®åŸç†.assets&#x2F;11-20200907070313426.png)</p><p>Spring Boot å†…ç½®äº†éå¸¸å¤šçš„ Starterï¼Œæ–¹ä¾¿æˆ‘ä»¬å¼•å…¥ä¸åŒæ¡†æ¶ï¼Œå¹¶å®ç°è‡ªåŠ¨é…ç½®ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š![Spring Boot Starter](ç¬¬äºŒç« -Spring Bootè‡ªåŠ¨é…ç½®åŸç†.assets&#x2F;12-20200907070313269.png)</p><h1 id="6-è‡ªå®šä¹‰-Starter"><a href="#6-è‡ªå®šä¹‰-Starter" class="headerlink" title="6. è‡ªå®šä¹‰ Starter"></a>6. è‡ªå®šä¹‰ Starter</h1><p>åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å®ç°è‡ªå®šä¹‰ Starter æ¥è¾¾åˆ°è‡ªåŠ¨é…ç½®çš„ç›®çš„ã€‚ä¾‹å¦‚è¯´ï¼š</p><ul><li>ä¸‰æ–¹æ¡†æ¶å¹¶æ²¡æœ‰æä¾› Starterï¼Œæ¯”å¦‚è¯´ <a target="_blank" rel="noopener" href="https://github.com/swagger-api">Swagger</a>ã€<a target="_blank" rel="noopener" href="https://github.com/xuxueli/xxl-job">XXL-JOB</a> ç­‰ã€‚</li><li>Spring Boot å†…ç½®çš„ Starter æ— æ³•æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ï¼Œæ¯”å¦‚è¯´ <a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc"><code>spring-boot-starter-jdbc</code></a> ä¸æä¾›å¤šæ•°æ®æºçš„é…ç½®ã€‚</li><li>éšç€é¡¹ç›®è¶Šæ¥è¶Šå¤§ï¼Œæƒ³è¦æä¾›é€‚åˆè‡ªå·±å›¢é˜Ÿçš„ Starter æ¥æ–¹ä¾¿é…ç½®é¡¹ç›®ï¼Œæ¯”å¦‚è¯´æ°¸è¾‰å½©é£Ÿé²œ <a target="_blank" rel="noopener" href="https://gitee.com/yhcsx/csx-bsf-all">csx-bsf-all</a> é¡¹ç›®ã€‚</li></ul><p>ä¸‹é¢ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥å®ç°ä¸€ä¸ªè‡ªå®šä¹‰ Starterï¼Œå®ç°ä¸€ä¸ª Java å†…ç½® <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpServer.html">HttpServer</a> æœåŠ¡å™¨çš„è‡ªåŠ¨åŒ–é…ç½®ã€‚æœ€ç»ˆé¡¹ç›®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š![æœ€ç»ˆé¡¹ç›®](ç¬¬äºŒç« -Spring Bootè‡ªåŠ¨é…ç½®åŸç†.assets&#x2F;21.png)</p><p>åœ¨å¼€å§‹ç¤ºä¾‹ä¹‹å‰ï¼Œæˆ‘ä»¬è¦äº†è§£ä¸‹ Spring Boot Starter çš„<strong>å‘½åè§„åˆ™</strong>ï¼Œæ˜¾å¾—æˆ‘ä»¬æ›´åŠ ä¸“ä¸šï¼ˆè£…é€¼ï¼‰ã€‚å‘½åè§„åˆ™å¦‚ä¸‹ï¼š</p><table><thead><tr><th align="left">åœºæ™¯</th><th align="left">å‘½åè§„åˆ™</th><th align="left">ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="left"><strong>Spring Boot å†…ç½®</strong> Starter</td><td align="left"><code>spring-boot-starter-&#123;æ¡†æ¶&#125;</code></td><td align="left"><code>spring-boot-starter-web</code></td></tr><tr><td align="left">æ¡†æ¶ <strong>è‡ªå®šä¹‰</strong> Starter</td><td align="left"><code>&#123;æ¡†æ¶&#125;-spring-boot-starter</code></td><td align="left"><a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter"><code>mybatis-spring-boot-starter</code></a></td></tr><tr><td align="left">å…¬å¸ <strong>è‡ªå®šä¹‰</strong> Starter</td><td align="left"><code>&#123;å…¬å¸&#125;-spring-boot-starter-&#123;æ¡†æ¶&#125;</code></td><td align="left">æš‚æ— ï¼Œè‰¿è‰¿è‡ªå·±çš„æƒ³æ³•å“ˆ</td></tr></tbody></table><h2 id="6-1-yunai-server-spring-boot-starter-é¡¹ç›®"><a href="#6-1-yunai-server-spring-boot-starter-é¡¹ç›®" class="headerlink" title="6.1 yunai-server-spring-boot-starter é¡¹ç›®"></a>6.1 yunai-server-spring-boot-starter é¡¹ç›®</h2><p>åˆ›å»º <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/tree/master/lab-47/yunai-server-spring-boot-starter">yunai-server-spring-boot-starter</a> é¡¹ç›®ï¼Œå®ç°ä¸€ä¸ª Java å†…ç½® HttpServer æœåŠ¡å™¨çš„è‡ªåŠ¨åŒ–é…ç½®ã€‚è€ƒè™‘åˆ°ç¤ºä¾‹æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å°±ä¸åƒ Spring Boot æ‹†åˆ†æˆ <code>spring-boot-autoconfigure</code> å’Œ <code>spring-boot-starter-&#123;æ¡†æ¶&#125;</code> ä¸¤ä¸ªé¡¹ç›®ã€‚</p><h3 id="6-1-1-å¼•å…¥ä¾èµ–"><a href="#6-1-1-å¼•å…¥ä¾èµ–" class="headerlink" title="6.1.1 å¼•å…¥ä¾èµ–"></a>6.1.1 å¼•å…¥ä¾èµ–</h3><p>åœ¨ <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-47/yunai-server-spring-boot-starter/pom.xml"><code>pom.xml</code></a> æ–‡ä»¶ä¸­ï¼Œå¼•å…¥ç›¸å…³ä¾èµ–ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lab-47<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.iocoder.springboot.labs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>yunai-server-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¼•å…¥ Spring Boot Starter åŸºç¡€åº“ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-1-2-YunaiServerProperties"><a href="#6-1-2-YunaiServerProperties" class="headerlink" title="6.1.2 YunaiServerProperties"></a>6.1.2 YunaiServerProperties</h3><p>åœ¨ <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-47/yunai-server-spring-boot-starter/src/main/java/cn/iocoder/springboot/lab47/yunaiserver/autoconfigure/"><code>cn.iocoder.springboot.lab47.yunaiserver.autoconfigure</code></a> åŒ…ä¸‹ï¼Œåˆ›å»º <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-47/yunai-server-spring-boot-starter/src/main/java/cn/iocoder/springboot/lab47/yunaiserver/autoconfigure/YunaiServerProperties.java">YunaiServerProperties</a> é…ç½®å±æ€§ç±»ï¼Œè¯»å– <code>yunai.server</code> å‰ç¼€çš„é…ç½®é¡¹ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;yunai.server&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">YunaiServerProperties</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é»˜è®¤ç«¯å£</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Integer</span> <span class="variable">DEFAULT_PORT</span> <span class="operator">=</span> <span class="number">8000</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç«¯å£</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Integer</span> <span class="variable">port</span> <span class="operator">=</span> DEFAULT_PORT;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">getDefaultPort</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> DEFAULT_PORT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getPort</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> port;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> YunaiServerProperties <span class="title function_">setPort</span><span class="params">(Integer port)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.port = port;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-1-3-YunaiServerAutoConfiguration"><a href="#6-1-3-YunaiServerAutoConfiguration" class="headerlink" title="6.1.3 YunaiServerAutoConfiguration"></a>6.1.3 YunaiServerAutoConfiguration</h3><p>åœ¨ <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-47/yunai-server-spring-boot-starter/src/main/java/cn/iocoder/springboot/lab47/yunaiserver/autoconfigure/"><code>cn.iocoder.springboot.lab47.yunaiserver.autoconfigure</code></a> åŒ…ä¸‹ï¼Œåˆ›å»º <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-47/yunai-server-spring-boot-starter/src/main/java/cn/iocoder/springboot/lab47/yunaiserver/autoconfigure/YunaiServerAutoConfiguration.java">YunaiServerAutoConfiguration</a> è‡ªåŠ¨é…ç½®ç±»ï¼Œåœ¨é¡¹ç›®ä¸­å­˜åœ¨ <code>com.sun.net.httpserver.HttpServer</code> ç±»æ—¶ï¼Œåˆ›å»º HttpServer Beanï¼Œå¹¶å¯åŠ¨è¯¥æœåŠ¡å™¨ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> <span class="comment">// å£°æ˜é…ç½®ç±»</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(YunaiServerProperties.class)</span> <span class="comment">// ä½¿ YunaiServerProperties é…ç½®å±æ€§ç±»ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">YunaiServerAutoConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(YunaiServerAutoConfiguration.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span> <span class="comment">// å£°æ˜åˆ›å»º Bean</span></span><br><span class="line">    <span class="meta">@ConditionalOnClass(HttpServer.class)</span> <span class="comment">// éœ€è¦é¡¹ç›®ä¸­å­˜åœ¨ com.sun.net.httpserver.HttpServer ç±»ã€‚è¯¥ç±»ä¸º JDK è‡ªå¸¦ï¼Œæ‰€ä»¥ä¸€å®šæˆç«‹ã€‚</span></span><br><span class="line">    <span class="keyword">public</span> HttpServer <span class="title function_">httpServer</span><span class="params">(YunaiServerProperties serverProperties)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»º HttpServer å¯¹è±¡ï¼Œå¹¶å¯åŠ¨</span></span><br><span class="line">        <span class="type">HttpServer</span> <span class="variable">server</span> <span class="operator">=</span> HttpServer.create(<span class="keyword">new</span> <span class="title class_">InetSocketAddress</span>(serverProperties.getPort()), <span class="number">0</span>);</span><br><span class="line">        server.start();</span><br><span class="line">        logger.info(<span class="string">&quot;[httpServer][å¯åŠ¨æœåŠ¡å™¨æˆåŠŸï¼Œç«¯å£ä¸º:&#123;&#125;]&quot;</span>, serverProperties.getPort());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> server;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä»£ç æ¯”è¾ƒç®€å•ï¼Œèƒ–å‹çœ‹çœ‹è‰¿è‰¿åœ¨ä»£ç ä¸Šæ·»åŠ çš„æ³¨é‡Šå“Ÿã€‚</li></ul><h3 id="6-1-4-spring-factories"><a href="#6-1-4-spring-factories" class="headerlink" title="6.1.4 spring.factories"></a>6.1.4 spring.factories</h3><p>åœ¨ <code>resources</code> ç›®å½•ä¸‹åˆ›å»ºï¼Œåˆ›å»º <code>META-INF</code> ç›®å½•ï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸‹åˆ›å»º <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-47/yunai-server-spring-boot-starter/src/main/resources/META-INF/spring.factories"><code>spring.factories</code></a> æ–‡ä»¶ï¼Œæ·»åŠ è‡ªåŠ¨åŒ–é…ç½®ç±»ä¸º YunaiServerAutoConfigurationã€‚å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.boot.autoconfigure.EnableAutoConfiguration=\</span><br><span class="line">cn.iocoder.springboot.lab47.yunaiserver.autoconfigure.YunaiServerAutoConfiguration</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ Starterã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬åœ¨<a target="_blank" rel="noopener" href="http://www.iocoder.cn/Spring-Boot/autoconfigure/?github#">ã€Œ6.2 lab-47-demo é¡¹ç›®ã€</a>ä¸­å¼•å…¥ï¼Œç„¶åè¿›è¡Œæµ‹è¯•ã€‚</p><h2 id="6-2-lab-47-demo-é¡¹ç›®"><a href="#6-2-lab-47-demo-é¡¹ç›®" class="headerlink" title="6.2 lab-47-demo é¡¹ç›®"></a>6.2 lab-47-demo é¡¹ç›®</h2><p>åˆ›å»º <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-47/lab-47-demo/pom.xml">lab-47-demo</a> é¡¹ç›®ï¼Œå¼•å…¥æˆ‘ä»¬è‡ªå®šä¹‰ Starterã€‚</p><h3 id="6-2-1-å¼•å…¥ä¾èµ–"><a href="#6-2-1-å¼•å…¥ä¾èµ–" class="headerlink" title="6.2.1 å¼•å…¥ä¾èµ–"></a>6.2.1 å¼•å…¥ä¾èµ–</h3><p>åœ¨ <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-47/lab-47-demo/pom.xml"><code>pom.xml</code></a> æ–‡ä»¶ä¸­ï¼Œå¼•å…¥ç›¸å…³ä¾èµ–ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lab-47<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.iocoder.springboot.labs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lab-47-demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¼•å…¥è‡ªå®šä¹‰ Starter --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.iocoder.springboot.labs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>yunai-server-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-2-2-é…ç½®æ–‡ä»¶"><a href="#6-2-2-é…ç½®æ–‡ä»¶" class="headerlink" title="6.2.2 é…ç½®æ–‡ä»¶"></a>6.2.2 é…ç½®æ–‡ä»¶</h3><p>åœ¨ <code>resource</code> ç›®å½•ä¸‹ï¼Œåˆ›å»º <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-47/lab-47-demo/src/main/resources/application.yaml"><code>application.yaml</code></a> é…ç½®æ–‡ä»¶ï¼Œè®¾ç½® <code>yunai.server.port</code> é…ç½®é¡¹æ¥è‡ªå®šä¹‰ HttpServer ç«¯å£ã€‚é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">yunai:</span></span><br><span class="line">  <span class="attr">server:</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8888</span> <span class="comment"># è‡ªå®šä¹‰ HttpServer ç«¯å£</span></span><br></pre></td></tr></table></figure><h3 id="6-2-3-DemoApplication"><a href="#6-2-3-DemoApplication" class="headerlink" title="6.2.3 DemoApplication"></a>6.2.3 DemoApplication</h3><p>åˆ›å»º <a target="_blank" rel="noopener" href="https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-47/lab-47-demo/src/main/java/cn/iocoder/springboot/lab47/demo/DemoApplication.java"><code>DemoApplication.java</code></a> ç±»ï¼Œé…ç½® <code>@SpringBootApplication</code> æ³¨è§£å³å¯ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(DemoApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-2-4-ç®€å•æµ‹è¯•"><a href="#6-2-4-ç®€å•æµ‹è¯•" class="headerlink" title="6.2.4 ç®€å•æµ‹è¯•"></a>6.2.4 ç®€å•æµ‹è¯•</h3><p>æ‰§è¡Œ <code>DemoApplication#main(String[] args)</code> æ–¹æ³•ï¼Œå¯åŠ¨ Spring Boot åº”ç”¨ã€‚æ‰“å°æ—¥å¿—å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2020-02-02 13:03:12.156  INFO 76469 --- [           main] c.i.s.lab47.demo.DemoApplication         : Starting DemoApplication on MacBook-Pro-8 with PID 76469 (/Users/yunai/Java/SpringBoot-Labs/lab-47/lab-47-demo/target/classes started by yunai <span class="keyword">in</span> /Users/yunai/Java/SpringBoot-Labs)</span><br><span class="line">2020-02-02 13:03:12.158  INFO 76469 --- [           main] c.i.s.lab47.demo.DemoApplication         : No active profile <span class="built_in">set</span>, falling back to default profiles: default</span><br><span class="line">2020-02-02 13:03:12.873  INFO 76469 --- [           main] c.i.s.l.y.a.YunaiServerAutoConfiguration : [httpServer][å¯åŠ¨æœåŠ¡å™¨æˆåŠŸï¼Œç«¯å£ä¸º:8888]</span><br><span class="line">2020-02-02 13:03:12.927  INFO 76469 --- [           main] c.i.s.lab47.demo.DemoApplication         : Started DemoApplication <span class="keyword">in</span> 1.053 seconds (JVM running <span class="keyword">for</span> 1.47)</span><br></pre></td></tr></table></figure><ul><li>YunaiServerAutoConfiguration æˆåŠŸè‡ªåŠ¨é…ç½® HttpServer Beanï¼Œå¹¶å¯åŠ¨è¯¥æœåŠ¡å™¨åœ¨ 8888 ç«¯å£ã€‚</li></ul><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨è®¿é—® <a target="_blank" rel="noopener" href="http://127.0.0.1:8888/">http://127.0.0.1:8888/</a> åœ°å€ï¼Œè¿”å›ç»“æœä¸º 404 Not Foundã€‚å› ä¸ºæˆ‘ä»¬æ²¡æœ‰ç»™ HttpServer ç›¸åº”çš„ Handlerã€‚</p><h1 id="666-å½©è›‹"><a href="#666-å½©è›‹" class="headerlink" title="666. å½©è›‹"></a>666. å½©è›‹</h1><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº† Spring Boot è‡ªåŠ¨é…ç½®çš„åŸç†å­¦ä¹ ã€‚å¦‚æœæœ‰ä¸ç†è§£çš„åœ°æ–¹ï¼Œè¯·ç»™è‰¿è‰¿ç•™è¨€å“Ÿã€‚</p><p>åœ¨ç†è§£ Spring Boot è‡ªåŠ¨é…ç½®çš„åŸç†çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œæ— è®ºæ˜¯é…ç½®ç±»ï¼Œè¿˜æ˜¯æ¡ä»¶æ³¨è§£ä¹Ÿå¥½ï¼Œå®é™… Spring åŸæœ¬éƒ½å·²ç»è¿›è¡Œæä¾›ã€‚ç”šè‡³è¯´ï¼ŒSpringFactoriesLoader ç«Ÿç„¶ä¹Ÿæ˜¯ Spring æä¾›çš„ã€‚æ‰€ä»¥ï¼ŒSpring Boot æ˜¯åœ¨ Spring çš„åŸºç¡€ä¹‹ä¸Šï¼Œå®ç°äº†ä¸€å¥— Boot å¯åŠ¨æœºåˆ¶ã€‚</p><p>Spring çš„æ ¸å¿ƒä¹‹ä¸€æ˜¯ IOCï¼Œè´Ÿè´£ç®¡ç† Bean çš„ç”Ÿå‘½å‘¨æœŸã€‚è€Œ Spring Boot åˆ™æ˜¯å¯¹ Java åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ã€‚</p><ul><li>åœ¨ Spring çš„å¹´ä»£ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨ Tomcat å¤–éƒ¨å®¹å™¨æ¥å®ç° Java åº”ç”¨çš„è¿è¡Œï¼ŒSpring åªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªç»„ä»¶ã€‚</li><li>åœ¨ Spring Boot çš„å¹´ä»£ï¼Œæˆ‘ä»¬ä½¿ç”¨ Spring Boot æ¥ç®¡ç† Java åº”ç”¨çš„è¿è¡Œï¼Œå†…åµŒçš„ Tomcat åè€Œæˆä¸ºå…¶ä¸­çš„ä¸€ä¸ªç»„ä»¶ã€‚</li></ul><p>ğŸ˜ˆ å¦å¤–ï¼Œåœ¨æ¨èå¦‚ä¸‹çš„æ–‡ç« ï¼Œæ–¹ä¾¿èƒ–å‹è¿›ä¸€æ­¥å¯¹ Spring Boot æœ‰æ·±å…¥ç†è§£ï¼š</p><ul><li><a target="_blank" rel="noopener" href="http://www.iocoder.cn/Fight/Give-you-a-list-of-Spring-Boot-knowledge/?self">ã€Šç»™ä½ ä¸€ä»½ Spring Boot çŸ¥è¯†æ¸…å•ã€‹</a></li><li><a target="_blank" rel="noopener" href="http://www.iocoder.ccn/Fight/Details-the-Spring-Boot-automatic-configuration-mechanism/?self">ã€Šè¯¦è§£ Spring Boot è‡ªåŠ¨é…ç½®æœºåˆ¶ã€‹</a></li></ul></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">èŠ‹é“æºç </a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="http://www.iocoder.cn/Spring-Boot/autoconfigure/">http://www.iocoder.cn/Spring-Boot/autoconfigure/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æ­¤æ–‡ç« ç‰ˆæƒå½’èŠ‹é“æºç æ‰€æœ‰ï¼Œå¦‚æœ‰è½¬è½½ï¼Œè¯·è¨»æ˜æ¥è‡ªåŸä½œè€…</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Springboot/">Springboot</a></div><div class="post_share"><div class="social-share" data-image="/img/text/Spring1.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/wechat.jpg" alt="å¾®ä¿¡"></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/alipay.jpg" alt="æ”¯ä»˜å®"></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/02/24/SpringBoot%E6%95%B4%E5%90%88%E7%9B%B8%E5%85%B3%E6%95%B0%E6%8D%AE%E5%BA%93/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/text/Spring1.jpeg" onerror='onerror=null,src="/img/404.jpeg"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Springbootæ•´åˆç›¸å…³æ•°æ®åº“</div></div></a></div><div class="next-post pull-right"><a href="/2022/01/22/SpringBoot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE(%E4%B8%80)/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/text/Spring1.jpeg" onerror='onerror=null,src="/img/404.jpeg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">SpringBootè‡ªåŠ¨é…ç½®(ä¸€)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/02/24/SpringBoot%E6%95%B4%E5%90%88%E7%9B%B8%E5%85%B3%E6%95%B0%E6%8D%AE%E5%BA%93/" title="Springbootæ•´åˆç›¸å…³æ•°æ®åº“"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/text/Spring1.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-24</div><div class="title">Springbootæ•´åˆç›¸å…³æ•°æ®åº“</div></div></a></div><div><a href="/2022/01/22/SpringBoot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE(%E4%B8%80)/" title="SpringBootè‡ªåŠ¨é…ç½®(ä¸€)"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/text/Spring1.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-22</div><div class="title">SpringBootè‡ªåŠ¨é…ç½®(ä¸€)</div></div></a></div><div><a href="/2022/02/28/Springboot%E5%88%A9%E7%94%A8JSCH%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/" title="Springbootåˆ©ç”¨JSCHå®ç°è¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶ä¼ è¾“"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/text/spring.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-28</div><div class="title">Springbootåˆ©ç”¨JSCHå®ç°è¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶ä¼ è¾“</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/social_img.jpeg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">å’³å’³</div><div class="author-info__description">æ²¡æœ‰é€‰æ‹©ä¼šæ˜¯å”¯ä¸€çš„è·¯</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">7</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">4</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">4</div></a></div></div><a id="card-info-btn" href="https://adordly.github.io/"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">ä¸€åæ‹–æ›´çš„æ‡’åšä¸»</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringBoot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE-%E4%BA%8C"><span class="toc-number">1.</span> <span class="toc-text">SpringBootè‡ªåŠ¨é…ç½®(äºŒ)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-number">2.</span> <span class="toc-text">1. æ¦‚è¿°</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-number">3.</span> <span class="toc-text">2. è‡ªåŠ¨é…ç½®ç±»</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E6%9D%A1%E4%BB%B6%E6%B3%A8%E8%A7%A3"><span class="toc-number">4.</span> <span class="toc-text">3. æ¡ä»¶æ³¨è§£</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="toc-number">5.</span> <span class="toc-text">4. é…ç½®å±æ€§</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E5%86%85%E7%BD%AE-Starter"><span class="toc-number">6.</span> <span class="toc-text">5. å†…ç½® Starter</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E8%87%AA%E5%AE%9A%E4%B9%89-Starter"><span class="toc-number">7.</span> <span class="toc-text">6. è‡ªå®šä¹‰ Starter</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-yunai-server-spring-boot-starter-%E9%A1%B9%E7%9B%AE"><span class="toc-number">7.1.</span> <span class="toc-text">6.1 yunai-server-spring-boot-starter é¡¹ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-1-%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96"><span class="toc-number">7.1.1.</span> <span class="toc-text">6.1.1 å¼•å…¥ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-2-YunaiServerProperties"><span class="toc-number">7.1.2.</span> <span class="toc-text">6.1.2 YunaiServerProperties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-3-YunaiServerAutoConfiguration"><span class="toc-number">7.1.3.</span> <span class="toc-text">6.1.3 YunaiServerAutoConfiguration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-4-spring-factories"><span class="toc-number">7.1.4.</span> <span class="toc-text">6.1.4 spring.factories</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-lab-47-demo-%E9%A1%B9%E7%9B%AE"><span class="toc-number">7.2.</span> <span class="toc-text">6.2 lab-47-demo é¡¹ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-1-%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96"><span class="toc-number">7.2.1.</span> <span class="toc-text">6.2.1 å¼•å…¥ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-2-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">7.2.2.</span> <span class="toc-text">6.2.2 é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-3-DemoApplication"><span class="toc-number">7.2.3.</span> <span class="toc-text">6.2.3 DemoApplication</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-4-%E7%AE%80%E5%8D%95%E6%B5%8B%E8%AF%95"><span class="toc-number">7.2.4.</span> <span class="toc-text">6.2.4 ç®€å•æµ‹è¯•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#666-%E5%BD%A9%E8%9B%8B"><span class="toc-number">8.</span> <span class="toc-text">666. å½©è›‹</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/02/28/Springboot%E5%88%A9%E7%94%A8JSCH%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/" title="Springbootåˆ©ç”¨JSCHå®ç°è¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶ä¼ è¾“"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/text/spring.jpeg" onerror='this.onerror=null,this.src="/img/404.jpeg"' alt="Springbootåˆ©ç”¨JSCHå®ç°è¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶ä¼ è¾“"></a><div class="content"><a class="title" href="/2022/02/28/Springboot%E5%88%A9%E7%94%A8JSCH%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/" title="Springbootåˆ©ç”¨JSCHå®ç°è¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶ä¼ è¾“">Springbootåˆ©ç”¨JSCHå®ç°è¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶ä¼ è¾“</a><time datetime="2022-02-27T17:26:47.000Z" title="å‘è¡¨äº 2022-02-28 01:26:47">2022-02-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/26/Maven/" title="Maven"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/text/maven.jpg" onerror='this.onerror=null,this.src="/img/404.jpeg"' alt="Maven"></a><div class="content"><a class="title" href="/2022/02/26/Maven/" title="Maven">Maven</a><time datetime="2022-02-26T14:46:47.000Z" title="å‘è¡¨äº 2022-02-26 22:46:47">2022-02-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/26/%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/" title="Vueç»„ä»¶å¼€å‘"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/text/vue.jpeg" onerror='this.onerror=null,this.src="/img/404.jpeg"' alt="Vueç»„ä»¶å¼€å‘"></a><div class="content"><a class="title" href="/2022/02/26/%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91/" title="Vueç»„ä»¶å¼€å‘">Vueç»„ä»¶å¼€å‘</a><time datetime="2022-02-26T08:14:47.000Z" title="å‘è¡¨äº 2022-02-26 16:14:47">2022-02-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/25/deepLearningSemanticSegmentation/" title="æ·±åº¦å­¦ä¹ è¯­ä¹‰åˆ†å‰²ç†è®ºä¸å®æˆ˜æŒ‡å—"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/text/deeplearning.png" onerror='this.onerror=null,this.src="/img/404.jpeg"' alt="æ·±åº¦å­¦ä¹ è¯­ä¹‰åˆ†å‰²ç†è®ºä¸å®æˆ˜æŒ‡å—"></a><div class="content"><a class="title" href="/2022/02/25/deepLearningSemanticSegmentation/" title="æ·±åº¦å­¦ä¹ è¯­ä¹‰åˆ†å‰²ç†è®ºä¸å®æˆ˜æŒ‡å—">æ·±åº¦å­¦ä¹ è¯­ä¹‰åˆ†å‰²ç†è®ºä¸å®æˆ˜æŒ‡å—</a><time datetime="2022-02-25T03:46:47.000Z" title="å‘è¡¨äº 2022-02-25 11:46:47">2022-02-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/24/SpringBoot%E6%95%B4%E5%90%88%E7%9B%B8%E5%85%B3%E6%95%B0%E6%8D%AE%E5%BA%93/" title="Springbootæ•´åˆç›¸å…³æ•°æ®åº“"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/text/Spring1.jpeg" onerror='this.onerror=null,this.src="/img/404.jpeg"' alt="Springbootæ•´åˆç›¸å…³æ•°æ®åº“"></a><div class="content"><a class="title" href="/2022/02/24/SpringBoot%E6%95%B4%E5%90%88%E7%9B%B8%E5%85%B3%E6%95%B0%E6%8D%AE%E5%BA%93/" title="Springbootæ•´åˆç›¸å…³æ•°æ®åº“">Springbootæ•´åˆç›¸å…³æ•°æ®åº“</a><time datetime="2022-02-23T17:26:47.000Z" title="å‘è¡¨äº 2022-02-24 01:26:47">2022-02-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/img/text/Spring1.jpeg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By å’³å’³</div><div class="footer_custom_text">Hi, welcome to my blog</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœ¬åœ°æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading())</script><div class="js-pjax"><script>function loadValine(){function n(){new Valine(Object.assign({el:"#vcomment",appId:"GsGNLORFmjCB9yFfADJIBAR4-gzGzoHsz",appKey:"DeLHVpVyM3s1NHtFDhAuQeMY",avatar:"monsterid",serverURLs:"",emojiMaps:"",path:window.location.pathname,visitor:!1},null))}"function"==typeof Valine?n():getScript("https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js").then(n)}function loadOtherComment(){loadValine()}btf.loadComment(document.getElementById("vcomment"),loadValine)</script></div><script type="text/javascript" src="/js/fairyDustCursor.js"></script><script id="canvas_nest" defer color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>